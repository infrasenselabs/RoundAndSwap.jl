<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>RoundAndSwap.jl · RoundAndSwap</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href><img src="assets/logo.png" alt="RoundAndSwap logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href>RoundAndSwap</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>RoundAndSwap.jl</a><ul class="internal"><li><a class="tocitem" href="#Getting-started"><span>Getting started</span></a></li><li><a class="tocitem" href="#Performance"><span>Performance</span></a></li><li><a class="tocitem" href="#Index"><span>Index</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li></ul></li><li><a class="tocitem" href="nomenclature/">Nomenclature</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>RoundAndSwap.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>RoundAndSwap.jl</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/this-josh/RoundAndSwap.jl/blob/main/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="RoundAndSwap.jl"><a class="docs-heading-anchor" href="#RoundAndSwap.jl">RoundAndSwap.jl</a><a id="RoundAndSwap.jl-1"></a><a class="docs-heading-anchor-permalink" href="#RoundAndSwap.jl" title="Permalink"></a></h1><p><a href="https://github.com/this-josh/RoundAndSwap.jl/actions/workflows/runtests.yml"><img src="https://github.com/this-josh/RoundAndSwap.jl/actions/workflows/runtests.yml/badge.svg" alt/></a><a href="https://codecov.io/gh/this-josh/RoundAndSwap.jl"><img src="https://codecov.io/gh/this-josh/RoundAndSwap.jl/branch/main/graph/badge.svg?token=hfQGPZjl2y" alt/></a></p><p><code>RoundAndSwap.jl</code> is a library for implementing the Round and Swap algorithm to try and find an intial solution.</p><h2 id="Getting-started"><a class="docs-heading-anchor" href="#Getting-started">Getting started</a><a id="Getting-started-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-started" title="Permalink"></a></h2><ol><li>Create your JuMP model, and optimize</li></ol><pre><code class="language-julia hljs"># Define how many variables you want fixed
num_to_fix = 2

using JuMP, HiGHS
model = Model(HiGHS.Optimizer)
@variable(model, 0 ≤ a ≤ 1)
@variable(model, 0 ≤ b ≤ 1)
@variable(model, 0 ≤ c ≤ 1)
@variable(model, 0 ≤ d ≤ 1)
@constraint(model, a + b + c + d == num_to_fix)
@objective(model, Max, (a + b) + (2 * (b + c)) + (3 * (c - d)) + (4 * (d + a)))

# To demonstate functionality we will fix b and d
fix(b, 0.8; force=true)
fix(d, 0.8; force=true)

optimize!(model)</code></pre><ol><li>Identify which variable we are considering making <code>1</code></li></ol><pre><code class="language-julia hljs">consider_swapping = [a,b,c,d]</code></pre><ol><li>Round variables closest to <code>1</code>, this will be b and d as we fixed them at <code>0.8</code>.</li></ol><pre><code class="language-julia hljs">using RoundAndSwap
round!(consider_swapping, num_to_fix)</code></pre><ol><li>Begin swapping</li></ol><pre><code class="language-julia hljs">best_swap, swapper = swap(model, consider_swapping)</code></pre><ol><li>Review your best swap</li></ol><pre><code class="language-julia hljs">julia&gt; best_swap
1-element Vector{Swap}:
 Swap 
    existing:           b
    new:                a
    obj_value:          10.0          
    success:            true            
    all_fixed:          [:a, :c]          
    termination_status: OPTIMAL 
    solve_time:         0.0004438320000872409
    swap_number:        7</code></pre><p>As you can see in this case we found the globally optimal solution of 10.  <em>Note:</em> Round and Swap does not provide guarantees of global optimility.</p><h3 id="caveats"><a class="docs-heading-anchor" href="#caveats">caveats</a><a id="caveats-1"></a><a class="docs-heading-anchor-permalink" href="#caveats" title="Permalink"></a></h3><ul><li>Currently can only set variables to <code>0</code> or <code>1</code>.</li></ul><h2 id="Performance"><a class="docs-heading-anchor" href="#Performance">Performance</a><a id="Performance-1"></a><a class="docs-heading-anchor-permalink" href="#Performance" title="Permalink"></a></h2><p>In testing I&#39;ve done 536 swaps with <code>round_and_swap</code> taking 174.1 seconds with 172.8 seconds of that being in the optimizer, giving <code>RoundAndSwap.jl</code> an overhead of 0.75%.  </p><ul><li><a href="nomenclature/#Nomenclature">Nomenclature</a></li></ul><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#RoundAndSwap.Swap"><code>RoundAndSwap.Swap</code></a></li><li><a href="#RoundAndSwap.Swapper"><code>RoundAndSwap.Swapper</code></a></li><li><a href="#Base.:==-Tuple{Swap, Swap}"><code>Base.:==</code></a></li><li><a href="#Base.getindex-Tuple{JuMP.AbstractModel, Array{Symbol, N} where N}"><code>Base.getindex</code></a></li><li><a href="#RoundAndSwap._completed_swaps-Tuple{Swapper}"><code>RoundAndSwap._completed_swaps</code></a></li><li><a href="#RoundAndSwap.best_objective-Tuple{Swapper}"><code>RoundAndSwap.best_objective</code></a></li><li><a href="#RoundAndSwap.best_swap-Tuple{Swapper}"><code>RoundAndSwap.best_swap</code></a></li><li><a href="#RoundAndSwap.create_swaps!-Tuple{Swapper, Array{Symbol, N} where N}"><code>RoundAndSwap.create_swaps!</code></a></li><li><a href="#RoundAndSwap.create_swaps!-Tuple{Swapper, Symbol}"><code>RoundAndSwap.create_swaps!</code></a></li><li><a href="#RoundAndSwap.evalute_sweep-Tuple{Swapper}"><code>RoundAndSwap.evalute_sweep</code></a></li><li><a href="#RoundAndSwap.fix!"><code>RoundAndSwap.fix!</code></a></li><li><a href="#RoundAndSwap.fixed_variables-Tuple{JuMP.Model, Swapper}"><code>RoundAndSwap.fixed_variables</code></a></li><li><a href="#RoundAndSwap.fixed_variables-Tuple{JuMP.Model, Array{Symbol, N} where N}"><code>RoundAndSwap.fixed_variables</code></a></li><li><a href="#RoundAndSwap.flatten-Tuple{Array{Array{Swap, N} where N, N} where N}"><code>RoundAndSwap.flatten</code></a></li><li><a href="#RoundAndSwap.get_var-Tuple{JuMP.AbstractModel, Symbol}"><code>RoundAndSwap.get_var</code></a></li><li><a href="#RoundAndSwap.initial_swaps-Tuple{Array{Symbol, N} where N, Array{Symbol, N} where N}"><code>RoundAndSwap.initial_swaps</code></a></li><li><a href="#RoundAndSwap.make_models"><code>RoundAndSwap.make_models</code></a></li><li><a href="#RoundAndSwap.num_swaps-Tuple{Swapper}"><code>RoundAndSwap.num_swaps</code></a></li><li><a href="#RoundAndSwap.previously_tried-Tuple{Swapper}"><code>RoundAndSwap.previously_tried</code></a></li><li><a href="#RoundAndSwap.reduce_to_consider_number-Tuple{Array{JuMP.VariableRef, N} where N}"><code>RoundAndSwap.reduce_to_consider_number</code></a></li><li><a href="#RoundAndSwap.reduce_to_consider_percentile-Tuple{Array{JuMP.VariableRef, N} where N}"><code>RoundAndSwap.reduce_to_consider_percentile</code></a></li><li><a href="#RoundAndSwap.solve!-Tuple{Any, Any, Any}"><code>RoundAndSwap.solve!</code></a></li><li><a href="#RoundAndSwap.status_codes-Tuple{Swapper}"><code>RoundAndSwap.status_codes</code></a></li><li><a href="#RoundAndSwap.successful-Tuple{JuMP.Model}"><code>RoundAndSwap.successful</code></a></li><li><a href="#RoundAndSwap.successful-Tuple{MathOptInterface.TerminationStatusCode}"><code>RoundAndSwap.successful</code></a></li><li><a href="#RoundAndSwap.successful_swaps-Tuple{Swapper}"><code>RoundAndSwap.successful_swaps</code></a></li><li><a href="#RoundAndSwap.swap-Tuple{Array{JuMP.Model, N} where N, Swapper}"><code>RoundAndSwap.swap</code></a></li><li><a href="#RoundAndSwap.swap-Tuple{JuMP.Model, Array{JuMP.VariableRef, N} where N}"><code>RoundAndSwap.swap</code></a></li><li><a href="#RoundAndSwap.swap-Tuple{Vector{JuMP.Model}, Vector{JuMP.VariableRef}}"><code>RoundAndSwap.swap</code></a></li><li><a href="#RoundAndSwap.total_optimisation_time-Tuple{Swapper}"><code>RoundAndSwap.total_optimisation_time</code></a></li><li><a href="#RoundAndSwap.try_swapping!-Tuple{Array{JuMP.Model, N} where N, Swapper}"><code>RoundAndSwap.try_swapping!</code></a></li><li><a href="#RoundAndSwap.unfix!-Tuple{Array{JuMP.Model, N} where N, Swapper}"><code>RoundAndSwap.unfix!</code></a></li><li><a href="#RoundAndSwap.unfix!-Tuple{JuMP.VariableRef}"><code>RoundAndSwap.unfix!</code></a></li><li><a href="#RoundAndSwap.unsuccessful_swaps-Tuple{Swapper}"><code>RoundAndSwap.unsuccessful_swaps</code></a></li></ul><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.Swap" href="#RoundAndSwap.Swap"><code>RoundAndSwap.Swap</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Swap</code></pre><p>An objecct to keep track of a swap</p><p><strong>Arguments:</strong></p><ul><li><code>existing::Union{Symbol, Nothing}</code>: The existing variable</li><li><code>new::Union{Symbol, Nothing}</code>: The variable to replace the existing</li><li><code>obj_value::Real</code>: The objective value for this swap</li><li><code>success::Union{Bool, Nothing}</code>: Whether the swap was successful</li><li><code>all_fixed::Union{Array{Symbol}, Nothing}</code>: All the variable in swapper.to_consider which were fixed</li><li><code>termination_status::Union{String, TerminationStatusCode, Nothing}</code>: TerminationStatusCode</li><li><code>solve_time::Union{Real, Nothing}</code>: Time to solve</li><li><code>Swap(existing, new)</code>: A constructor for a Swap object</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/structs.jl#L8-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.Swapper" href="#RoundAndSwap.Swapper"><code>RoundAndSwap.Swapper</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Swapper</code></pre><p>An object to keep track of all the swaps</p><p><strong>Arguments:</strong></p><ul><li><code>to_swap::Array{Swap}</code>: A list of swaps yet to be done</li><li><code>consider_swapping::Array{Symbol}</code>: The variables to consider swapping</li><li><code>completed_swaps::Union{Array{Array{Swap}}, Nothing}</code>: The completed swaps</li><li><code>sense::OptimizationSense</code>: The optimisation sense, MAX or MIN</li><li><code>max_swaps::Real</code>: The maximum number of swaps to complete</li><li><code>number_of_swaps::Int</code>: The number of swaps completed</li><li><code>Swapper(to_swap, to_swap_with, model; max_swaps)</code>: A constructor</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/structs.jl#L43-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.:==-Tuple{Swap, Swap}" href="#Base.:==-Tuple{Swap, Swap}"><code>Base.:==</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Base.:(==)(a::Swap, b::Swap)</code></pre><p>Check whther two swaps have the same existing and new values</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/structs.jl#L34-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.getindex-Tuple{JuMP.AbstractModel, Array{Symbol, N} where N}" href="#Base.getindex-Tuple{JuMP.AbstractModel, Array{Symbol, N} where N}"><code>Base.getindex</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Base.getindex(m::JuMP.AbstractModel, names::Array{Symbol})</code></pre><p>Allow the getting of multiple variables</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/model.jl#L10-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap._completed_swaps-Tuple{Swapper}" href="#RoundAndSwap._completed_swaps-Tuple{Swapper}"><code>RoundAndSwap._completed_swaps</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_completed_swaps(swapper::Swapper)</code></pre><p>Get a list of swaps which actually ran</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/structs.jl#L77-L81">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.best_objective-Tuple{Swapper}" href="#RoundAndSwap.best_objective-Tuple{Swapper}"><code>RoundAndSwap.best_objective</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">best_objective(swapper::Swapper)</code></pre><p>Get the best objective value in swapper.completed_swaps</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/swapping.jl#L31-L35">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.best_swap-Tuple{Swapper}" href="#RoundAndSwap.best_swap-Tuple{Swapper}"><code>RoundAndSwap.best_swap</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">best_swap(swapper::Swapper)</code></pre><p>Return the best swap in the swapper</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/swapping.jl#L8-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.create_swaps!-Tuple{Swapper, Array{Symbol, N} where N}" href="#RoundAndSwap.create_swaps!-Tuple{Swapper, Array{Symbol, N} where N}"><code>RoundAndSwap.create_swaps!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_swaps!(swapper::Swapper, to_swap::Array{Symbol})</code></pre><p>Given the previously completed swaps, create a list of new swaps</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/swapping.jl#L171-L175">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.create_swaps!-Tuple{Swapper, Symbol}" href="#RoundAndSwap.create_swaps!-Tuple{Swapper, Symbol}"><code>RoundAndSwap.create_swaps!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_swaps!(swapper::Swapper, to_swap::Symbol)</code></pre><p>Given the previously completed swaps, create a list of new swaps</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/swapping.jl#L182-L186">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.evalute_sweep-Tuple{Swapper}" href="#RoundAndSwap.evalute_sweep-Tuple{Swapper}"><code>RoundAndSwap.evalute_sweep</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">evalute_sweep(swapper::Swapper)</code></pre><p>After complete a sweep, find which swaps improved the existing best objective and use this to create new swaps</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/swapping.jl#L200-L204">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.fix!" href="#RoundAndSwap.fix!"><code>RoundAndSwap.fix!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">fix!(models::Array{Model}, to_fix::Array{Symbol}, value = 1)</code></pre><p>For each model, fix all variables in to_fix to 1 </p><p><strong>Arguments:</strong></p><ul><li><code>models</code>: Models to fix values</li><li><code>to_fix</code>: Variables to fix</li><li><code>value</code>: Value to fix to, by default 1</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/model.jl#L111-L120">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.fixed_variables-Tuple{JuMP.Model, Array{Symbol, N} where N}" href="#RoundAndSwap.fixed_variables-Tuple{JuMP.Model, Array{Symbol, N} where N}"><code>RoundAndSwap.fixed_variables</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fixed_variables(model::Model, consider_swapping::Array{Symbol})</code></pre><p>Find which variables in consider swapping are fixed</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/model.jl#L62-L66">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.fixed_variables-Tuple{JuMP.Model, Swapper}" href="#RoundAndSwap.fixed_variables-Tuple{JuMP.Model, Swapper}"><code>RoundAndSwap.fixed_variables</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fixed_variables(model::Model, swapper::Swapper)</code></pre><p>Find which variables in consider swapping are fixed</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/model.jl#L53-L57">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.flatten-Tuple{Array{Array{Swap, N} where N, N} where N}" href="#RoundAndSwap.flatten-Tuple{Array{Array{Swap, N} where N, N} where N}"><code>RoundAndSwap.flatten</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">flatten(to_flatten::Array{Array{Swap}})</code></pre><p>Flatten nested arrays of swaps</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/misc.jl#L4-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.get_var-Tuple{JuMP.AbstractModel, Symbol}" href="#RoundAndSwap.get_var-Tuple{JuMP.AbstractModel, Symbol}"><code>RoundAndSwap.get_var</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_var(m::JuMP.AbstractModel, name::Symbol)</code></pre><p>Get a variable, if the symbol fails try getting it from an array of variables</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/model.jl#L19-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.initial_swaps-Tuple{Array{Symbol, N} where N, Array{Symbol, N} where N}" href="#RoundAndSwap.initial_swaps-Tuple{Array{Symbol, N} where N, Array{Symbol, N} where N}"><code>RoundAndSwap.initial_swaps</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">initial_swaps(fixed_variables::Array{Symbol}, consider_swapping::Array{Symbol})</code></pre><p>Given the initial state, create a list of initial swaps For all currently fixed, consider_swapping with all variables to consider wFixed = a consider = a,b,c,d Swaps([     a -&gt; b,     a -&gt; c,     a -&gt; d ])</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/swapping.jl#L142-L155">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.make_models" href="#RoundAndSwap.make_models"><code>RoundAndSwap.make_models</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">make_models(model::Model, optimizer::Union{Nothing, DataType} = nothing)</code></pre><p>Given a single model, make enough models to have one for each thread</p><p><strong>Arguments:</strong></p><ul><li><code>optimizer</code>: Optimizer to use, if nothing, will use the same as the one in the provided model, proving it is one of [Gurobi, Ipopt, HiGHS]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/model.jl#L129-L136">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.num_swaps-Tuple{Swapper}" href="#RoundAndSwap.num_swaps-Tuple{Swapper}"><code>RoundAndSwap.num_swaps</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">num_swaps(swapper::Swapper)</code></pre><p>Get how many swaps have been completed</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/structs.jl#L112-L116">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.previously_tried-Tuple{Swapper}" href="#RoundAndSwap.previously_tried-Tuple{Swapper}"><code>RoundAndSwap.previously_tried</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">previously_tried(swapper::Swapper)</code></pre><p>Get a list of all previously stried fixed variables in swapper.consider_swapping</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/swapping.jl#L19-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.reduce_to_consider_number-Tuple{Array{JuMP.VariableRef, N} where N}" href="#RoundAndSwap.reduce_to_consider_number-Tuple{Array{JuMP.VariableRef, N} where N}"><code>RoundAndSwap.reduce_to_consider_number</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">reduce_to_consider(to_consider::Array{VariableRef}; num_desired_to_consider::Int)</code></pre><p>Only consider the num<em>desired</em>to<em>consider largest values in to consider. Note that to</em>consider shouldn&#39;t be rounded yet.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/swapping.jl#L342-L346">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.reduce_to_consider_percentile-Tuple{Array{JuMP.VariableRef, N} where N}" href="#RoundAndSwap.reduce_to_consider_percentile-Tuple{Array{JuMP.VariableRef, N} where N}"><code>RoundAndSwap.reduce_to_consider_percentile</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">reduce_to_consider(to_consider::Array{VariableRef}; percentile::Int)</code></pre><p>Only consider the percentile largest values in to consider. Note that to_consider shouldn&#39;t be rounded yet.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/swapping.jl#L363-L367">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.solve!-Tuple{Any, Any, Any}" href="#RoundAndSwap.solve!-Tuple{Any, Any, Any}"><code>RoundAndSwap.solve!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">solve!(model, swapper, swap)</code></pre><p>Solve this swap</p><p><strong>Arguments:</strong></p><ul><li><code>model</code>: A model object</li><li><code>swapper</code>: The swapper being used</li><li><code>swap</code>: Which swap to solve</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/swapping.jl#L49-L58">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.status_codes-Tuple{Swapper}" href="#RoundAndSwap.status_codes-Tuple{Swapper}"><code>RoundAndSwap.status_codes</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">status_codes(swapper::Swapper)</code></pre><p>Get all the status codes which have occured for this Swapper</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/structs.jl#L103-L107">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.successful-Tuple{JuMP.Model}" href="#RoundAndSwap.successful-Tuple{JuMP.Model}"><code>RoundAndSwap.successful</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">successful(model::Model)</code></pre><p>Determine if a model was succesful</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/model.jl#L34-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.successful-Tuple{MathOptInterface.TerminationStatusCode}" href="#RoundAndSwap.successful-Tuple{MathOptInterface.TerminationStatusCode}"><code>RoundAndSwap.successful</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">successful(t_stat::TerminationStatusCode)</code></pre><p>Determine if a model was succesful</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/model.jl#L43-L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.successful_swaps-Tuple{Swapper}" href="#RoundAndSwap.successful_swaps-Tuple{Swapper}"><code>RoundAndSwap.successful_swaps</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">successful_swaps(swapper::Swapper)</code></pre><p>Get a list of swaps which succeeded</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/structs.jl#L86-L90">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.swap-Tuple{Array{JuMP.Model, N} where N, Swapper}" href="#RoundAndSwap.swap-Tuple{Array{JuMP.Model, N} where N, Swapper}"><code>RoundAndSwap.swap</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">swap(models::Array{Model}, swapper::Swapper)</code></pre><p><strong>Arguments:</strong></p><ul><li><code>models</code>: An array of models, one for each thread</li><li><code>swapper</code>: An already initialised swapper, this can either be clean or it can be partially complete</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/swapping.jl#L292-L298">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.swap-Tuple{JuMP.Model, Array{JuMP.VariableRef, N} where N}" href="#RoundAndSwap.swap-Tuple{JuMP.Model, Array{JuMP.VariableRef, N} where N}"><code>RoundAndSwap.swap</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">swap(model::Model, consider_swapping::Array{VariableRef}; optimizer = nothing, max_swaps = Inf,save_path::Union{Nothing, String}=nothing)</code></pre><p>Given a model and a list of variables swap the integer values to improve the objective function</p><p><strong>Arguments:</strong></p><ul><li><code>models</code>: An array of models, one for each thread</li><li><code>consider_swapping</code>: An array of variables to consider swapping</li><li><code>optimizer</code>: A specific optimizer to use, if the desired is not in [Gurobi, Ipopt, HiGHS]</li><li><code>max_swaps</code>: The maximum number of swaps, default is Inf</li><li><code>save_path</code>: A path to save the swapper to after each swap, isnothing(save_path) ?  don&#39;t save : save, default is nothing</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/swapping.jl#L218-L229">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.swap-Tuple{Vector{JuMP.Model}, Vector{JuMP.VariableRef}}" href="#RoundAndSwap.swap-Tuple{Vector{JuMP.Model}, Vector{JuMP.VariableRef}}"><code>RoundAndSwap.swap</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">swap(models::Vector{Model}, consider_swapping::Vector{VariableRef}; max_swaps = Inf, optimizer = nothing)</code></pre><p>Given a model and a list of variables swap the integer values to improve the objective function</p><p><strong>Arguments:</strong></p><ul><li><code>models</code>: An Vector of models, one for each thread</li><li><code>consider_swapping</code>: An Vector of variables to consider swapping</li><li><code>max_swaps</code>: The maximum number of swaps, default is Inf</li><li><code>save_path</code>: A path to save the swapper to after each swap, isnothing(save_path) ?  don&#39;t save : save, default is nothing</li><li><code>auto_cpu_limit</code>: Whether to set a cpu time limie. Once enough feasible and infeasible solutions have been determined if there is sufficient gap in the solve time between the two this will be used to set the cpu time limit.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/swapping.jl#L242-L253">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.total_optimisation_time-Tuple{Swapper}" href="#RoundAndSwap.total_optimisation_time-Tuple{Swapper}"><code>RoundAndSwap.total_optimisation_time</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">total_optimisation_time(swapper::Swapper)</code></pre><p>Get the total time spent in optimizers</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/structs.jl#L121-L125">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.try_swapping!-Tuple{Array{JuMP.Model, N} where N, Swapper}" href="#RoundAndSwap.try_swapping!-Tuple{Array{JuMP.Model, N} where N, Swapper}"><code>RoundAndSwap.try_swapping!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">try_swapping!(models::Array{Model}, swapper::Swapper)</code></pre><p>Given a model and the swapper, try all swaps in swapper.to_swap</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/swapping.jl#L113-L117">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.unfix!-Tuple{Array{JuMP.Model, N} where N, Swapper}" href="#RoundAndSwap.unfix!-Tuple{Array{JuMP.Model, N} where N, Swapper}"><code>RoundAndSwap.unfix!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">unfix!(models::Array{Model}, swapper::Swapper)</code></pre><p>Unfix all variables in consider swapping</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/model.jl#L94-L98">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.unfix!-Tuple{JuMP.VariableRef}" href="#RoundAndSwap.unfix!-Tuple{JuMP.VariableRef}"><code>RoundAndSwap.unfix!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">unfix!(variable::VariableRef)</code></pre><p>unfix! a variable are reset 0 and 1 as lower and upper bounds</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/model.jl#L71-L75">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="RoundAndSwap.unsuccessful_swaps-Tuple{Swapper}" href="#RoundAndSwap.unsuccessful_swaps-Tuple{Swapper}"><code>RoundAndSwap.unsuccessful_swaps</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">unsuccessful_swaps(swapper::Swapper)</code></pre><p>Get a list of swaps which failed</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/this-josh/RoundAndSwap.jl/blob/714f58c4a19165b2e0ddd7bc817f6064e147d924/src/structs.jl#L94-L98">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="nomenclature/">Nomenclature »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Thursday 29 September 2022 10:22">Thursday 29 September 2022</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
